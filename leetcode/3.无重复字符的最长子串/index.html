<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3.无重复字符的最长子串</title>
</head>

<body>
    <script>
        /**
         * @param {string} s
         * @return {number}
         */

        var lengthOfLongestSubstring = function (s) {
            // 哈希集合，记录每个字符是否出现过
            const occ = new Set()
            const n = s.length
            // 右指针，初始值为 -1，相当于我们在字符串的左边界的左侧，还没有开始移动
            let rk = -1, ans = 0
            for (let i = 0; i < n; ++i) {
                if (i != 0) {
                    // 左指针向右移动一格，移除一个字符
                    occ.delete(s.charAt(i - 1))
                }
                while (rk + 1 < n && !occ.has(s.charAt(rk + 1))) {
                    // 不断地移动右指针
                    occ.add(s.charAt(rk + 1))
                    ++rk
                }
                // 第 i 到 rk 个字符是一个极长的无重复字符子串
                ans = Math.max(ans, rk - i + 1)
            }
            return ans
        }


        var lengthOfLongestSubstring = function (s) {


        }

        var lengthOfLongestSubstring_baoli = function (s) {
            let len = s.length, ans = 0
            for (let i = 0; i < len; i++) {
                const curr = s[i]
                let num = 1
                let set = new Set()
                set.add(curr)

                let j = i + 1 > len ? len : i + 1
                for (; j < len; j++) {
                    if (!set.has(s[j])) {
                        set.add(s[j])
                        num++
                    } else {
                        ans = Math.max(ans, num)
                        break
                    }
                }

            }
            return ans
        }

        var s = 'abcabcbb'
        console.log('lengthOfLongestSubstring', lengthOfLongestSubstring(' '))
        console.log('lengthOfLongestSubstring_baoli', lengthOfLongestSubstring_baoli(s))
    </script>
</body>

</html>