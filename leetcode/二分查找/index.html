<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <script>
        /**
         * @param {number[]} nums
         * @param {number} target
         * @return {number}
         */
        // var search = function (nums, target) {
        //     let left = 0, right = nums.length - 1, mid
        //     //这里要用 left <= right, 如果为 left < right，则该条件下不通过 nums = [5], target = 5 ,结果直接返回 -1   
        //     while (left <= right) {
        //         // 如果不用 Math.floor 会取到小数，一直去不到值，直接返回-1
        //         mid = Math.floor(left + (right - left) / 2)
        //         if (target === nums[mid]) {
        //             return mid
        //         } else if (target < nums[mid]) {
        //             right = mid - 1
        //         } else {
        //             left = mid + 1
        //         }
        //     }
        //     return -1
        // }

        var search = function (nums, target, startIndex, endIndex) {
            const length = nums.length
            if (length === 0) return -1

            // 开始和结束范围
            if (startIndex == null) startIndex = 0
            if (endIndex == null) endIndex = length - 1

            // 如果 start 和 end 相遇，则结束
            if (startIndex > endIndex) return -1

            //中间位置
            const mid = Math.floor(startIndex + (endIndex - startIndex) / 2)

            if (target < nums[mid]) {
                return search(nums, target, startIndex, mid - 1)
            } else if (target > nums[mid]) {
                return search(nums, target, mid + 1, endIndex)
            } else {
                return mid
            }
        }

        function binarySearch2 (arr, target, startIndex, endIndex) {
            const length = arr.length
            if (length === 0) return -1

            // 开始和结束的范围
            if (startIndex == null) startIndex = 0
            if (endIndex == null) endIndex = length - 1

            // 如果 start 和 end 相遇，则结束
            if (startIndex > endIndex) return -1

            // 中间位置
            const midIndex = Math.floor((startIndex + endIndex) / 2)
            const midValue = arr[midIndex]

            if (target < midValue) {
                // 目标值较小，则继续在左侧查找
                return binarySearch2(arr, target, startIndex, midIndex - 1)
            } else if (target > midValue) {
                // 目标值较大，则继续在右侧查找
                return binarySearch2(arr, target, midIndex + 1, endIndex)
            } else {
                // 相等，返回
                return midIndex
            }
        }

        var nums = [10, 20, 30, 40, 50, 60, 70, 80, 90, 100, 110, 120]
        var target = 40
        var res = search(nums, target)
        console.log('res', res)
    </script>


</body>

</html>