<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>141.判断链表是否有环</title>
</head>

<body>
    <script>
        /**
         * Definition for singly-linked list.
         * function ListNode(val) {
         *     this.val = val;
         *     this.next = null;
         * }
         */

        /**
         * @param {ListNode} head
         * @return {boolean}
         */
        // 方法一： 做标记，如果有标记证明有环
        var hasCycle = function (head) {
            while (head !== null) {
                if (head.flag) return true
                head.flag = true
                head = head.next
            }
            return false
        }
        // 时间复杂度：O(n)
        // 空间复杂度：O(n)

        // 方法二： 快慢指针
        var hasCycle = function (head) {
            // 快慢指针
            if (!head || !head.next) return false

            let fast = head
            let slow = head

            while (fast.next !== null && fast.next.next !== null) {
                fast = fast.next.next
                slow = slow.next

                if (fast === slow) return true
            }

            return false
        };
        // 时间复杂度：O(n)
        // 空间复杂度：O(1)

        // 方法三： 利用 JSON.stringify() 不能序列化含有循环引用的结构
        var hasCycle = function (head) {
            try {
                JSON.stringify(head)
                return false
            } catch (error) {
                return true
            }
        }
    </script>
</body>

</html>