<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>两个数组的交集 II</title>
</head>

<body>
    <script>
        /**
            * @param {number[]} nums1
            * @param {number[]} nums2
            * @return {number[]}
            */
        var intersect = function (nums1, nums2) {
            let arr1Map = setHashObj(nums1)
            let arr2Map = setHashObj(nums2)
            let res = []

            for (const k in arr1Map) {
                if (k in arr2Map) {
                    let min = Math.min(arr1Map[k], arr2Map[k])
                    if (min) {
                        for (let x = 0; x < min; x++) {
                            res.push(k)
                        }
                    }
                }
            }

            return res

        }

        function setHashObj(arr) {
            const obj = {}

            if (!arr || !Array.isArray(arr)) return obj

            for (let i = 0; i < arr.length; i++) {
                const ele = arr[i]
                if (ele in obj) {
                    obj[ele]++
                } else {
                    obj[ele] = 1
                }
            }

            return obj
        }

        // var a1 = [4, 9, 5]
        // var a2 = [9, 4, 9, 8, 4]
        var a1 = [1, 2, 2, 1]
        var a2 = [2, 2]
        var s = intersect(a1, a2)
        console.log('s', s)

    </script>
</body>

</html>