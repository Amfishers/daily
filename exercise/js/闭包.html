<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // window.onload = function () {

        var data = []

        // for (let i = 0; i < 3; i++) {
        //     let s = 0
        //     data[i] = function () {
        //         console.log(i)
        //         console.log('result:' + (i + s))
        //         console.log('-------------')
        //         debugger
        //     }
        // }


        // for (let i = 0; i < 3; i++) {
        //     data[i] = (function (i) {
        //         return function () {
        //             console.log(i)
        //         }
        //     })(i)
        // }

        // data[0]()
        // data[1]()
        // data[2]()


        // bar()是一个不带任何修饰的函数调用，应用默认绑定。
        // function foo () {
        //     console.log(this.a)
        // }

        // var obj = {
        //     a: 2,
        //     foo: foo
        // }

        // var bar = obj.foo // 函数别名
        // console.log(obj.foo())

        // }

        // 箭头函数 this
        function foo () {
            // 返回一个箭头函数
            return (a) => {
                // this继承自foo()
                console.log(this.a)
            }
        }

        var obj1 = {
            a: 2
        }

        var obj2 = {
            a: 3
        }

        var bar = foo.call(obj1)
        debugger
        bar.call(obj2) // 2，不是3！

    </script>
</body>

</html>